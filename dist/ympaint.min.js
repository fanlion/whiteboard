window.YMPaintSDK=function(t){var e={};function i(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="./dist",i(i.s=0)}([function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isDebug=!1,e.version="1.0.0";var n=function(){function t(t){this.canvas=t.canvas,this.context=this.canvas.getContext("2d"),this.color=t.color||"black",this.lineWidth=t.lineWidth||2,this.radius=t.radius||0,this.shape=t.shape||"line",console.log("shape",this.shape),this.bindEvent()}return t.prototype.handleMouseDown=function(t){this.drawing=!0,"rect"===this.shape&&(this.rect.x=t.clientX,this.rect.y=t.clientY)},t.prototype.handleMouseMove=function(t){this.drawing&&"rect"===this.shape&&(this.rect.width=Math.abs(this.rect.x-t.clientX),this.rect.height=Math.abs(this.rect.y-t.clientY),this.rect.x>t.clientX&&(this.rect.x=t.clientX),this.rect.y>t.clientY&&(this.rect.y=t.clientY),this.clear(),this.redrawAll(),this.drawRect(this.rect.x,this.rect.y,this.rect.width,this.rect.height,this.radius,this.color,this.lineWidth))},t.prototype.handleMouseUp=function(t){if("rect"===this.shape){var e={x:this.rect.x,y:this.rect.y,width:this.rect.width,height:this.rect.height,radius:this.radius,color:this.color,lineWidth:this.lineWidth};this.rect=null,this.history.rects.push(e)}this.drawing=!1},t.prototype.createRect=function(t,e,i,n,o,s,r,h){this.context.beginPath(),this.context.moveTo(t,e+o),this.context.lineTo(t,e+n-o),this.context.quadraticCurveTo(t,e+n,t+o,e+n),this.context.lineTo(t+i-o,e+n),this.context.quadraticCurveTo(t+i,e+n,t+i,e+n-o),this.context.lineTo(t+i,e+o),this.context.quadraticCurveTo(t+i,e,t+i-o,e),this.context.lineTo(t+o,e),this.context.quadraticCurveTo(t,e,t,e+o),this.context[r+"Style"]=s,this.context.lineWidth=h,this.context.closePath(),this.context[r]()},t.prototype.drawRect=function(t,e,i,n,o,s,r){this.createRect(t,e,i,n,o,s,"stroke",r)},t.prototype.bindEvent=function(){this.canvas.addEventListener("mousedown",this.handleMouseDown,!1),this.canvas.addEventListener("mousemove",this.handleMouseMove,!1),this.canvas.addEventListener("mouseup",t.throttle(this.handleMouseUp,10),!1)},t.prototype.redrawAll=function(){if(this.history.rects.length>0){var t=this;this.history.rects.forEach(function(e){t.drawRect(e.x,e.y,e.width,e.height,e.radius,e.color,e.lineWidth)})}},t.prototype.clear=function(){this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},t.prototype.setColor=function(t){this.color=t},t.prototype.getColor=function(){return this.color},t.prototype.setShape=function(t){this.shape=t},t.prototype.getShape=function(){return this.shape},t.throttle=function(t,e){var i=(new Date).getTime();return function(){var n=(new Date).getTime();n-i>=e&&(i=n,t.apply(null,arguments))}},t}();e.YMPaint=n}]);